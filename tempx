// --- Helper function to get image source ---
// Adjust this function based on your D1 schema and how image URLs are stored
function getImageSource(artwork) {
    // Check if the artwork object exists and has an image_id
    if (artwork && artwork.image_id) {
        // Construct the Cloudflare Images URL using the image_id
        // Replace 'YOUR_CF_ACCOUNT_HASH' with the actual hash from your image delivery URL
        // Example: If your delivery URL is https://imagedelivery.net/4bRSwPonOXfEIBVZiDXg0w/...
        // then '4bRSwPonOXfEIBVZiDXg0w' is the ACCOUNT_HASH
        // Use the 'thumbnail' variant as specified in the README for Gallery.svelte
        // The README example for Gallery.svelte uses '/thumbnail', so we'll use that.
        // Adjust 'thumbnail' to 'gallery', 'desktop', etc., if needed for different sizes.
        const ACCOUNT_HASH = '4bRSwPonOXfEIBVZiDXg0w'; // Extracted from the README example URL
        const VARIANT = 'thumbnail'; // Or 'gallery', 'desktop', etc., based on your Cloudflare Images setup

        console.log("Constructing URL from image_id:", artwork.image_id); // Debug log
        return `https://imagedelivery.net/${ACCOUNT_HASH}/${artwork.image_id}/${VARIANT}`;
    }
    // Fallback if no image_id is present
    console.warn("Could not determine image source for artwork (missing image_id):", artwork);
    return '/path/to/default/image.jpg'; // Provide a default image path
}
