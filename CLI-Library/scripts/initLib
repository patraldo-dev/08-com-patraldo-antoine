#!/bin/bash
# initlib - Initialize CLI Library configuration

LIB_ROOT="$(dirname "$(readlink -f "${BASH_SOURCE[0]}")")"

echo "=== CLI Library Configuration Setup ==="
echo ""

if [ -f "$LIB_ROOT/.env" ]; then
    echo "Found existing .env file at: $LIB_ROOT/.env"
    read -p "Overwrite? (y/N): " overwrite
    [[ ! $overwrite =~ ^[Yy]$ ]] && exit 0
fi

echo "Creating .env configuration..."
echo ""

read -p "Cloudflare Account ID: " account_id
read -p "Cloudflare API Token: " api_token

cat > "$LIB_ROOT/.env" << EOF
# Cloudflare Configuration
ACCOUNT_ID=$account_id
API_TOKEN=$api_token

# Add other credentials as needed
EOF

echo ""
echo "âœ… Configuration saved to: $LIB_ROOT/.env"
echo ""
echo "Scripts requiring credentials will now work from any directory!"
